!function(n){var i=function(i,l){return i?i:n.error(l)},l=function(){return i(n.li18n.currentLocale,"Missing current locale")},o=function(l){var o=i(n.li18n.translations,"Missing translations");return i(o[l],'Missing translations for locale "'+l+'"')},a=function(n){return i(o(n).l10n,'Missing localizations for locale "'+n+'"')},t=function(i,l){return i.l10nKey?"function"==typeof i.l10nKey?i.l10nKey(l):i.l10nKey:i instanceof Date?"date":n.error("Don't know how to localize \""+i+'"')},e=function(i,l){var o='Missing translation for key "'+i+'" and locale "'+l+'"';return"message"===n.li18n.onTranslationMissing?o:"function"==typeof n.li18n.onTranslationMissing?n.li18n.onTranslationMissing(i,l):void n.error(o)};n.li18n={version:"0.1.2",_translate:function(a,t){i(a,"Tried to translate with an empty key");var e=l(),r=o(e),s=r[a];if(!s&&n.li18n.fallbackLocale){var c=o(n.li18n.fallbackLocale);s=c[a]}return t&&(n.each(t,function(n,i){var l=new RegExp("%{{"+n+"}}","g");s=s.replace(l,i)}),s.match(/%{{.*}}/)&&n.error('Too less interpolation options for key "'+a+'"')),s?s:void 0},translate:function(i,o){var a=n.li18n._translate(i,o);return a?a:e(i,l())},localize:function(o,e){i(o,"Tried to localize an empty object");var r=l(),s=a(r),c=t(o,e),u=s[c];return i(n.li18n._localize,"Missing localization function $.li18n._localize"),n.li18n._localize(o,u,r,c,e)},reset:function(){n.li18n._localize=null,n.li18n.currentLocale="en",n.li18n.fallbackLocale=null,n.li18n.onTranslationMissing=null,n.li18n.translations={}}},n.li18n.reset(),window._t=n.li18n.translate,window._l=n.li18n.localize}(jQuery);